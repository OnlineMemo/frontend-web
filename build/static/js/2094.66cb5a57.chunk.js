"use strict";(self.webpackChunkonlinememo_react_project=self.webpackChunkonlinememo_react_project||[]).push([[2094,211],{211:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var o=a(9610);const s=o.Z.create({baseURL:"https://api.onlinememo.kr"});function n(){const e=window.location.pathname;"/"!==e&&"/login"!==e&&(window.location.href="/login")}s.interceptors.request.use((function(e){const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e})),s.interceptors.response.use((function(e){return e}),(async function(e){var t,a,r,c,i,l;const u=e.config,d={accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")};if(401===(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.status)&&"TOKEN_EXPIRED"===e.response.data.code&&"ERROR - JWT \ud1a0\ud070 \ub9cc\ub8cc \uc5d0\ub7ec"===e.response.data.message){try{const e=await o.Z.post("".concat("https://api.onlinememo.kr","/reissue"),d);if(e)return localStorage.setItem("accessToken",e.data.data.accessToken),localStorage.setItem("refreshToken",e.data.data.refreshToken),await s.request(u)}catch(e){console.error(e),localStorage.clear(),sessionStorage.clear(),n()}return Promise.reject(e)}return 401===(null===(r=e.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.status)?(localStorage.clear(),sessionStorage.clear(),n()):404===(null===(i=e.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.status)&&(window.location.href="/404"),Promise.reject(e)}));const r=s},2094:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var o=a(7313),s=a(211),n=a(6417);const r=function(e){const{memoId:t,isStar:a,memoHasUsersCount:r}=e,[c,i]=(0,o.useState)(a),l=async(e,a)=>{i(e),await s.default.put("/memos/".concat(t),{title:null,content:null,isStar:e}).then((e=>{})).catch((e=>{}))};let u;return u=r&&r>1?(0,n.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}):c&&c?(0,n.jsx)("i",{className:"fa fa-star","aria-hidden":"true",onClick:e=>l(0)}):(0,n.jsx)("i",{className:"fa fa-star-o","aria-hidden":"true",onClick:e=>l(1)}),(0,n.jsx)("div",{style:{display:"inline-block"},children:u})}}}]);