"use strict";(self.webpackChunkonlinememo_react_project=self.webpackChunkonlinememo_react_project||[]).push([[3933],{53933:(e,n,o)=>{o.r(n),o.d(n,{default:()=>p});var t,a=o(30168),s=o(47313),r=o(58467),l=o(70244),i=(o(80281),o(43897)),c=o(68893),d=o(9282),u=o(46417);const f=(0,l.ZP)(i.default)(t||(t=(0,a.Z)(['\n\n    position: sticky;\n    top: 0px;\n    isolation: isolate;\n    z-index: 999;\n\n    ul {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        \n        align-items: baseline;\n    }\n\n    ul li {\n        list-style:none;\n        line-height:50px;\n        padding: 0px 7px;\n        font-size: 2rem;\n    }  \n\n    .fa-arrow-left {\n        font-size: 2.1rem;  \n        font-weight: bolder;\n        color: #f4f3ee;\n        text-shadow: -1.6px 0 #463f3a, 0 1.6px #463f3a, 1.6px 0 #463f3a, 0 -1.6px #463f3a;\n        padding: 2.3px 4.8px;\n\n        &:hover {\n            cursor: pointer;\n            color: #f4f3eea4;\n        }\n    }\n\n    button {\n        border-radius: 6.5px;\n        font-family: "jua";\n        font-size: 1.75rem;\n\n        width: 51.5px;\n        height: 27px;\n\n        padding-bottom: 0px;\n\n        padding: 1px 6px 1px 6px;\n        border-top: 2px solid #767676;\n        border-left: 2px solid #767676;\n        border-bottom: 2px solid #212121;\n        border-right: 2px solid #212121;\n\n        &:hover {\n            cursor: pointer;\n        }\n    }\n\n    .editButton {\n        background-color: #463f3a;\n        color: white;\n\n        &:hover {\n            background-color: #463f3aa4;\n        }\n    }\n\n    .deletePrivateButton {\n        background-color: #dfafa1;\n        color: #463f3a;\n\n        &:hover {\n            background-color: #dfb1a1a4;\n        }\n    }\n\n    .deleteGroupButton {\n        background-color: #dfafa1;\n        color: #463f3a;\n\n        width: 80px;\n\n        &:hover {\n            background-color: #dfb1a1a4;\n        }\n    }\n\n    .saveButton {\n        background-color: #a1c4df;\n        color: #463f3a;\n\n        &:hover {\n            background-color: #a1c4dfa4;\n        }\n    }\n\n    .flex-left {\n        display: inline-flex;\n        align-items: center;\n    }\n\n    .flex-copy {\n        display: inline-flex;\n        flex-direction: column;\n        justify-content: center;\n        line-height: 13.7px;\n        width: 30px;\n        margin-top: 1.5px;\n\n        color: #463f3a;        \n        border: solid 1.8px #463f3a;\n        border-radius: 6px;\n        background-color: #f4f3ee;\n        padding: 2.3px 4.8px;\n\n        &:hover {\n            cursor: pointer;\n            background-color: #f4f3eea4;\n        }\n    }\n\n    .flex-reload {\n        display: inline-flex;\n        flex-direction: column;\n        justify-content: center;\n        line-height: 13.7px;\n        width: 30px;\n        margin-top: 1.5px;\n\n        color: #463f3a;        \n        border: solid 1.8px #463f3a;\n        border-radius: 6px;\n        background-color: #f4f3ee;\n        padding: 2.3px 4.8px;\n\n        font-size: 1.45rem;\n\n        &:hover {\n            cursor: pointer;\n            background-color: #f4f3eea4;\n        }\n    }\n\n    .fa-clone {\n        font-size: 1.45rem;   \n        font-weight: bold;\n    }\n\n    .fa-check {\n        font-size: 1.45rem;   \n        font-weight: bold;\n        color: #3fb950;\n    }\n\n    .copyText {\n        font-size: 1.15rem;\n        font-weight: bold; \n        height: 11px;\n    }\n\n    .reloadText {\n        font-size: 1.15rem;\n        font-weight: bold; \n        height: 11px;\n    }\n'])));const p=function(e){const n=(0,r.s0)(),[o,t]=(0,s.useState)("fa fa-clone"),[a,l]=(0,s.useState)(!1),[i,p]=(0,s.useState)(!1),[x,m]=(0,s.useState)(),[h,b]=(0,s.useState)(!1),[j,w]=(0,s.useState)(),[g,k]=(0,s.useState)(!1),[v,N]=(0,s.useState)(),y=(e,n)=>{p((e=>!e)),m(e)},C=(e,n)=>{(e=>{const n=e.length>=5?e.slice(0,4)+"..":e;w(n)})(e),setTimeout((()=>{b(!0)}),10)},S=(e,n)=>{N(e),setTimeout((()=>{k(!0)}),10)},B=n=>{window.navigator.clipboard.writeText(e.content),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(e.content),t("fa fa-check"),l(!0),setTimeout((()=>{t("fa fa-clone"),l(!1)}),2e3)},T=async n=>{"readGroup"==e.purpose?await d.default.post("/memos/".concat(e.memoId,"/lock")).then((n=>{sessionStorage.setItem("editGroupMemoId",e.memoId),e.propPurposeFunction("edit")})).catch((e=>{var n;if(423==(null===(n=e.response)||void 0===n?void 0:n.status)){var o,t;const n=null===(o=e.response)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.data;C(n)}})):e.propPurposeFunction("edit")},I=async n=>{"edit"===e.purpose&&e.memoHasUsersCount>1&&await d.default.delete("/memos/".concat(e.memoId,"/lock")).then((e=>{sessionStorage.removeItem("editGroupMemoId")})).catch((e=>{}))};(0,s.useEffect)((()=>{const e=e=>{"Enter"===e.key&&1==h&&(e.preventDefault(),b(!1))};return h&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[h]),(0,s.useEffect)((()=>{const e=e=>{I()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[e.purpose]);const z=[(0,u.jsxs)("span",{className:"flex-left",children:["\xa0",(0,u.jsx)("i",{className:"fa fa-arrow-left","aria-hidden":"true",onClick:()=>{n("/memos")}}),"\xa0\xa0",(0,u.jsxs)("span",{className:"flex-copy",onClick:B,children:[(0,u.jsx)("i",{className:o,"aria-hidden":"true"}),(0,u.jsx)("span",{className:"copyText",children:"\ubcf5\uc0ac"})]}),"\xa0\xa0",(0,u.jsxs)("span",{className:"flex-reload",onClick:()=>{window.location.reload()},children:[(0,u.jsx)("i",{className:"fa fa-refresh","aria-hidden":"true"}),(0,u.jsx)("span",{className:"reloadText",children:"\ub85c\ub529"})]})]}),(0,u.jsxs)("span",{children:[(0,u.jsx)("button",{className:"editButton",onClick:T,children:"\uc218\uc815"}),"\xa0\xa0",(0,u.jsx)("button",{className:"deletePrivateButton",onClick:e=>y("\uc0ad\uc81c"),children:"\uc0ad\uc81c"}),"\xa0"]})],M=[(0,u.jsxs)("span",{className:"flex-left",children:["\xa0",(0,u.jsx)("i",{className:"fa fa-arrow-left","aria-hidden":"true",onClick:()=>{n(-1)}}),"\xa0\xa0",(0,u.jsxs)("span",{className:"flex-copy",onClick:B,children:[(0,u.jsx)("i",{className:o,"aria-hidden":"true"}),(0,u.jsx)("span",{className:"copyText",children:"\ubcf5\uc0ac"})]}),"\xa0\xa0",(0,u.jsxs)("span",{className:"flex-reload",onClick:()=>{window.location.reload()},children:[(0,u.jsx)("i",{className:"fa fa-refresh","aria-hidden":"true"}),(0,u.jsx)("span",{className:"reloadText",children:"\ub85c\ub529"})]})]}),(0,u.jsxs)("span",{children:[(0,u.jsx)("button",{className:"editButton",onClick:T,children:"\uc218\uc815"}),"\xa0\xa0",(0,u.jsx)("button",{className:"deleteGroupButton",onClick:e=>y("\uadf8\ub8f9\uc744 \ud0c8\ud1f4"),children:"\uadf8\ub8f9 \ud0c8\ud1f4"}),"\xa0"]})],P=[(0,u.jsxs)("span",{className:"flex-left",children:["\xa0",(0,u.jsx)("i",{className:"fa fa-arrow-left","aria-hidden":"true",onClick:()=>{I(),e.propPurposeFunction("read")}})]}),(0,u.jsxs)("span",{children:[(0,u.jsx)("button",{className:"saveButton",onClick:n=>(async(n,o,t)=>{if(n.length<1){var a=document.querySelector(".memoTitleInput");a.style.border="3.3px solid #dd2b2b",a.style.borderRadius="5px"}else await d.default.put("/memos/".concat(e.memoId),{title:n,content:o,isStar:null,currentVersion:e.currentVersion}).then((n=>{"edit"===e.purpose&&e.memoHasUsersCount>1&&sessionStorage.removeItem("editGroupMemoId"),e.propPurposeFunction("read")})).catch((e=>{var n;const o=null===(n=e.response)||void 0===n?void 0:n.status;409==o?S("\uc774\ubbf8 \uc218\uc815\ub41c \uba54\ubaa8\uc785\ub2c8\ub2e4."):423==o&&S("\ub2e4\ub978 \uc0ac\uc6a9\uc790\uac00 \uc218\uc815 \uc911\uc785\ub2c8\ub2e4.")}))})(e.title,e.content),children:"\uc800\uc7a5"}),"\xa0"]})];let E;return"readPrivate"==e.purpose?E=z:"readGroup"==e.purpose?E=M:"edit"==e.purpose&&(E=P),(0,u.jsxs)(f,{children:[(0,u.jsx)("ul",{children:E.map(((e,n)=>(0,u.jsx)("li",{children:e},n)))}),i&&(0,u.jsxs)(c.default,{closeModal:()=>p(!i),children:[(0,u.jsx)("br",{}),(0,u.jsx)("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"}),(0,u.jsxs)("h2",{className:"modalTitle",style:{fontSize:"1.8rem"},children:["\uc815\ub9d0\xa0",x,"\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{float:"right"},children:[(0,u.jsx)("button",{className:"confirmDeleteButton",onClick:async o=>{await d.default.delete("/memos/".concat(e.memoId)).then((e=>{n("/memos")})).catch((e=>{}))},children:"\ud655\uc778"}),"\xa0\xa0",(0,u.jsx)("button",{className:"cancelButton",onClick:()=>p(!i),children:"\ucde8\uc18c"})]})]}),h&&(0,u.jsxs)(c.default,{closeModal:()=>b(!h),children:[(0,u.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"}),(0,u.jsxs)("h2",{className:"successSignupModalTitle",children:["'",j,"'\ub2d8\uc774 \uc218\uc815 \uc911\uc785\ub2c8\ub2e4.",(0,u.jsx)("br",{}),"\uc644\ub8cc\ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub824 \uc8fc\uc138\uc694."]}),(0,u.jsx)("button",{className:"cancelButton",onClick:()=>b(!1),children:"\ud655\uc778"})]}),g&&(0,u.jsxs)(c.default,{closeModal:()=>k(!g),customStyle:{height:"147px"},children:[(0,u.jsx)("br",{}),(0,u.jsx)("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"}),(0,u.jsxs)("h2",{className:"modalTitle",style:{fontSize:"1.82rem"},children:[v,(0,u.jsx)("br",{}),"\uc791\uc131 \ub0b4\uc6a9\uc744 \ubcf5\uc0ac\ud55c \ub4a4",(0,u.jsx)("br",{}),"\ud398\uc774\uc9c0\ub97c \uc774\ub3d9\ud574\uc8fc\uc138\uc694."]}),(0,u.jsx)("div",{style:{lineHeight:"50%"},children:(0,u.jsx)("br",{})}),(0,u.jsxs)("div",{style:{float:"right"},children:[(0,u.jsx)("button",{className:"copyModalButton",onClick:B,children:0==a?(0,u.jsx)("span",{children:"\ubcf5\uc0ac"}):(0,u.jsx)("i",{className:"fa fa-check","aria-hidden":"true"})}),"\xa0\xa0",(0,u.jsx)("button",{className:"cancelButton",onClick:()=>{window.location.reload()},children:"\uc774\ub3d9"})]})]})]})}}}]);