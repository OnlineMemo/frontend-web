"use strict";(self.webpackChunkonlinememo_react_project=self.webpackChunkonlinememo_react_project||[]).push([[2819,211,61],{211:(n,e,o)=>{o.r(e),o.d(e,{default:()=>i});var t=o(9610);const r=t.Z.create({baseURL:"https://api.onlinememo.kr"});function a(){const n=window.location.pathname;"/"!==n&&"/login"!==n&&(window.location.href="/login")}r.interceptors.request.use((function(n){const e=localStorage.getItem("accessToken");return e&&(n.headers.Authorization="Bearer ".concat(e)),n})),r.interceptors.response.use((function(n){return n}),(async function(n){var e,o,i,c,s,l;const d=n.config,p={accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")};if(401===(null===(e=n.response)||void 0===e||null===(o=e.data)||void 0===o?void 0:o.status)&&"TOKEN_EXPIRED"===n.response.data.code&&"ERROR - JWT \ud1a0\ud070 \ub9cc\ub8cc \uc5d0\ub7ec"===n.response.data.message){try{const n=await t.Z.post("".concat("https://api.onlinememo.kr","/reissue"),p);if(n)return localStorage.setItem("accessToken",n.data.data.accessToken),localStorage.setItem("refreshToken",n.data.data.refreshToken),await r.request(d)}catch(n){console.error(n),localStorage.clear(),sessionStorage.clear(),a()}return Promise.reject(n)}return 401===(null===(i=n.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.status)?(localStorage.clear(),sessionStorage.clear(),a()):404===(null===(s=n.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.status)&&(window.location.href="/404"),Promise.reject(n)}));const i=r},6737:(n,e,o)=>{o.r(e),o.d(e,{default:()=>x});var t,r,a=o(168),i=o(7313),c=o(244),s=(o(281),o(61)),l=o(211),d=o(6868),p=(o(1105),o(2600)),u=(o(6419),o(6417));const f=c.ZP.div(t||(t=(0,a.Z)(['\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    width: 100%;\n    height: calc(100vh - 12px - 23px);  // 100vh - paddingTop - paddingBottom\n    padding-top: 12px;\n    padding-bottom: 23px;\n    overflow: auto;\n\n    background-color: #f4f3ee;\n    font-family: "jua";\n    font-size: 15px;\n\n    h1 {\n        margin-top: 12px;\n        margin-bottom: 14px;\n        font-size: 27px;\n        color: #463f3a;\n    }\n\n    #dateContainer {\n        position: fixed;\n        top: 10.5px;\n        right: 100px;\n        padding: 6px 10px;\n        background-color: gray;\n        border: none;\n        border-radius: 4px;\n        font-size: 13px;\n        font-weight: 700;\n        color: #463f3a;\n        z-index: 998;\n\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        height: 16px;\n    }\n\n    #logoutButton {\n        position: fixed;\n        top: 10.5px;\n        right: 10.5px;\n        padding: 6px 10px;\n        background-color: #bcb8b1;\n        border: none;\n        border-radius: 4px;\n        font-size: 13px;\n        font-weight: 700;\n        color: #463f3a;\n        z-index: 998;\n\n        &:hover {\n            cursor: pointer;\n            background-color: #837a72;\n        }\n    }\n\n    .gridjs-footer {\n        padding: 9px 19px !important;\n    }\n    \n    &::-webkit-scrollbar {\n        width: 5px;\n        background-color: #f4f3ee;\n        border-radius: 4px;\n    }\n    &::-webkit-scrollbar-thumb {\n        background-color: #bcb8b1;\n        border-radius: 4px;\n    }\n']))),g=c.ZP.div(r||(r=(0,a.Z)(["\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    #userContainer {\n        position: absolute;\n        right: -180px;\n        padding: 6px 10px;\n        background-color: gray;\n        border: none;\n        border-radius: 4px;\n        font-size: 13px;\n        font-weight: 700;\n        color: #463f3a;\n\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n    }\n"])));const x=function(n){const[e,o]=(0,i.useState)(null),t=(0,i.useRef)(null);return(0,i.useEffect)((()=>{(0,s.CheckToken)(),async function(){await l.default.get("/back-office/ga4/statistics",{params:{startDatetime:"2025-08-01 15:30:00",endDatetime:"2025-08-29 23:59:59"}}).then((n=>{const e=n.data.data,t=Object.fromEntries([["\uc21c\uc704",(n,e)=>e+1],["\ud398\uc774\uc9c0 \uacbd\ub85c",n=>n.pagePath],["\uc2e4\uc0ac\uc6a9\uc790 \uc218",n=>n.uniqueUserCount],["\ub85c\uadf8\uc778 \uc0ac\uc6a9\uc790 \uc218",n=>n.loginUserCount],["\ud65c\uc131 \uc0ac\uc6a9\uc790 \uc218",n=>n.activeUserCount],["\uc870\ud68c\uc218",n=>n.pageViewCount],["\ubbf8\uc778\uc99d \uc811\uadfc \ucc28\ub2e8",n=>n.unauthBlockedCount]].map((n=>{let[o,t]=n;return[o,e.map(t)]})));o(t)})).catch((n=>{}))}()}),[]),(0,i.useEffect)((()=>{const n=document.querySelector("header");n&&(n.style.display="none");const e=document.querySelector("footer");e&&(e.style.display="none");const o=document.querySelector("html");o&&(o.style.margin="0px")}),[]),(0,i.useEffect)((()=>{e&&t.current&&new d.rj({columns:Object.keys(e),data:e["\uc21c\uc704"].map(((n,o)=>Object.keys(e).map((n=>e[n][o])))),pagination:{enabled:!0,limit:8,summary:!1},search:!1,style:{table:{borderCollapse:"collapse",width:"100%",border:"1px solid #ccc"},th:{padding:"11px 13px 11px 19.5px",backgroundColor:"#f0f0f0",border:"1px solid #ccc",color:"#444",fontWeight:"600"},tr:{backgroundColor:"#fff"},td:{padding:"11px 13px 11px 19.5px",border:"1px solid #ccc",color:"#333"}}}).render(t.current)}),[e]),(0,u.jsxs)(f,{children:[(0,u.jsxs)(g,{children:[(0,u.jsx)("h1",{children:"[ \uc628\ub77c\uc778 \uba54\ubaa8\uc7a5 - Back Office ]"}),(0,u.jsxs)("div",{id:"userContainer",children:[(0,u.jsx)("div",{children:"\uac00\uc785\uc790\uc218\uc704\uce581"}),"\xa0",(0,u.jsx)("div",{children:"\uac00\uc785\uc790\uc218\uc704\uce582"})]})]}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{style:{backgroundColor:"gray",marginLeft:"4px",width:"76%",height:"500px"},children:"\uadf8\ub798\ud504\uc704\uce58"}),(0,u.jsx)("div",{ref:t,style:{width:"76%"}}),(0,u.jsxs)("button",{id:"logoutButton",onClick:()=>{(0,p._1)({title:"\ub85c\uadf8\uc544\uc6c3 \ud655\uc778",message:"\uc815\ub9d0 \ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",buttons:[{label:"\uc608",onClick:()=>{localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}},{label:"\uc544\ub2c8\uc624",onClick:()=>{}}]})},children:["\ub85c\uadf8\uc544\uc6c3 ",(0,u.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})]}),(0,u.jsxs)("div",{id:"dateContainer",children:[(0,u.jsx)("div",{children:"\ub0a0\uc9dc\uc704\uce581"}),"\xa0",(0,u.jsx)("div",{children:"\ub0a0\uc9dc\uc704\uce582"})]})]})}},61:(n,e,o)=>{function t(){const n=localStorage.getItem("accessToken"),e=localStorage.getItem("refreshToken");n&&e||(window.location.href="/login")}o.r(e),o.d(e,{CheckToken:()=>t})}}]);