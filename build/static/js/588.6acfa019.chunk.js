"use strict";(self.webpackChunkonlinememo_react_project=self.webpackChunkonlinememo_react_project||[]).push([[588,211,6018,5844,5453,6102,61],{211:(n,e,o)=>{o.r(e),o.d(e,{default:()=>i});var t=o(39610);const r=t.Z.create({baseURL:"https://api.onlinememo.kr"});function a(){const n=window.location.pathname;"/"!==n&&"/login"!==n&&(window.location.href="/login")}r.interceptors.request.use((function(n){const e=localStorage.getItem("accessToken");return e&&(n.headers.Authorization="Bearer ".concat(e)),n})),r.interceptors.response.use((function(n){return n}),(async function(n){var e,o,i,s,d,l;const c=n.config,f={accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")};if(401===(null===(e=n.response)||void 0===e||null===(o=e.data)||void 0===o?void 0:o.status)&&"TOKEN_EXPIRED"===n.response.data.code&&"ERROR - JWT \ud1a0\ud070 \ub9cc\ub8cc \uc5d0\ub7ec"===n.response.data.message){try{const n=await t.Z.post("".concat("https://api.onlinememo.kr","/reissue"),f);if(n)return localStorage.setItem("accessToken",n.data.data.accessToken),localStorage.setItem("refreshToken",n.data.data.refreshToken),await r.request(c)}catch(n){console.error(n),localStorage.clear(),sessionStorage.clear(),a()}return Promise.reject(n)}return 401===(null===(i=n.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.status)?(localStorage.clear(),sessionStorage.clear(),a()):404===(null===(d=n.response)||void 0===d||null===(l=d.data)||void 0===l?void 0:l.status)&&(window.location.href="/404"),Promise.reject(n)}));const i=r},66018:(n,e,o)=>{o.r(e),o.d(e,{default:()=>u});var t,r,a,i=o(30168),s=(o(47313),o(70244)),d=o(211),l=o(46417);const c=s.ZP.div(t||(t=(0,i.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    & > * {  // &\ub294 \ud604\uc7ac \ud0dc\uadf8\uc778 Wrapper \ud0dc\uadf8\ub97c \uc758\ubbf8\ud558\uace0, *\ub294 \uc804\uccb4\ub97c \uc758\ubbf8\ud558\ubbc0\ub85c, & > * \ub294 Wrapper \ud0dc\uadf8\uc5d0 \ud55c\ub2e8\uacc4 \ubc11\ubd80\ubd84 \uc804\uccb4\uc758 \uc790\uc2dd \uc120\ud0dd\uc790 \ud0dc\uadf8\ub4e4\uc744 \ubc94\uc704\ub85c \uc9c0\uc815\ud55c\uac83\uc774\ub2e4.\n        :not(:last-child) {  // Wrapper \ud0dc\uadf8\uc5d0 \ud55c\ub2e8\uacc4 \ubc11\ubd80\ubd84 \uc804\uccb4\uc758 \uc790\uc2dd \uc120\ud0dd\uc790 \ud0dc\uadf8\ub4e4\uc911\uc5d0\uc11c \uac00\uc7a5 \ub9c8\uc9c0\ub9c9 \uc790\uc2dd \uc120\ud0dd\uc790\ub97c \uc81c\uc678\ud55c \ubaa8\ub4e0 \uc790\uc2dd \ud0dc\uadf8\ub4e4\uc744 \ubc94\uc704\ub85c \uc9c0\uc815\ud55c\uac83\uc774\ub2e4.\n            margin-bottom: 6px;\n        }\n    }\n"]))),f=s.ZP.div(r||(r=(0,i.Z)(["\n    width: calc(100% - 36px);\n    padding: 12.5px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n\n    background: #e8e6e0;\n    border: 2px solid #463f3a;\n    border-radius: 9px;\n\n    .fa-user {\n        font-size: 1.7rem;\n        color: #7d3d15;\n    }\n"]))),p=s.ZP.div(a||(a=(0,i.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    height: 37px;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n\n    .nameDiv {\n        font-size: 1.8rem;\n\n        height: 18.6px;\n        overflow: hidden;\n    }\n\n    .idDiv {\n        font-size: 1.18rem;\n\n        height: 13.1px;\n    }\n"])));const u=function(n){const{senders:e,getSenders:o}=n,t=async(n,e,t)=>{await d.default.put("/friends/".concat(n),{isAccept:e}).then((n=>{o()})).catch((n=>{}))};return(0,l.jsx)(c,{children:e&&e.map((n=>(0,l.jsxs)(f,{children:[(0,l.jsx)("i",{className:"fa fa-user","aria-hidden":"true"}),"\xa0\xa0\xa0\xa0\xa0\xa0",(0,l.jsxs)(p,{style:{flexGrow:"8"},children:[(0,l.jsxs)("div",{className:"nameDiv",children:["\uc774\ub984:\xa0",n&&n.nickname]}),(0,l.jsxs)("div",{className:"idDiv",children:["id:\xa0",n&&n.email]})]}),"\xa0\xa0\xa0\xa0\xa0\xa0",(0,l.jsx)("button",{className:"acceptButton",onClick:e=>n&&t(n.userId,1),children:"\uc218\ub77d"}),"\xa0\xa0",(0,l.jsx)("button",{className:"refuseButton",onClick:e=>n&&t(n.userId,0),children:"\uac70\uc808"})]},n.userId)))})}},55844:(n,e,o)=>{o.r(e),o.d(e,{default:()=>d});var t,r=o(30168),a=(o(47313),o(70244)),i=o(46417);const s=a.ZP.div(t||(t=(0,r.Z)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.4);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 999;  // \ud398\uc774\uc9c0\uc704\uc5d0 \uacb9\uce5c \uc694\uc18c\ub4e4\uc911 \uac00\uc7a5 \uc704\uc5d0\uc788\ub294 \uc815\ub3c4. \uc22b\uc790\uac00 \ud074\uc218\ub85d \uc704\uc5d0 \uc788\ub2e4.\n\n    .modalBody {\n        position: absolute;\n        width: 225px;\n        height: 113px;\n        padding: 40px;\n        text-align: center;\n        background-color: #bdb8b1;\n        border: 2.2px solid #463f3a;\n        border-radius: 10px;\n        box-shadow: 0 2px 3px 0 rgba(34, 36, 38, 0.15);\n    }\n    \n    #modalCloseButton {\n        position: absolute;\n        top: 15px;\n        right: 15px;\n        border: none;\n        color: rgba(0, 0, 0, 0.7);\n        background-color: transparent;  // \ubc30\uacbd\uc0c9 \uc5c6\uc74c.\n        font-size: 20px;\n    }\n    \n    #modalCloseBtn:hover {\n        cursor: pointer;\n    }\n"])));const d=function(n){const e=e=>{n.closeModal()};return(0,i.jsx)(s,{onClick:e,children:(0,i.jsxs)("div",{className:"modalBody",onClick:n=>n.stopPropagation(),children:[(0,i.jsx)("button",{id:"modalCloseButton",onClick:e,children:"X"}),n.children]})})}},5453:(n,e,o)=>{o.r(e),o.d(e,{default:()=>h});var t,r,a=o(30168),i=o(47313),s=o(2135),d=o(70244),l=(o(80281),o(6102)),c=o(55844),f=o(211),p=o(46417);const u=d.ZP.span(t||(t=(0,a.Z)(["\n    position: relative;\n"]))),x=d.ZP.div(r||(r=(0,a.Z)(['\n    background: #463f3a;\n    position: absolute;\n    top: 52px;\n    left: 50%;\n    width: 94px;\n    text-align: left;\n    border-radius: 7px;\n    transform: translate(-50%, -20px);\n    z-index: 990;  // \ud398\uc774\uc9c0\uc704\uc5d0 \uacb9\uce5c \uc694\uc18c\ub4e4\uc911 \uac00\uc7a5 \uc704\uc5d0\uc788\ub294 \uc815\ub3c4. \uc22b\uc790\uac00 \ud074\uc218\ub85d \uc704\uc5d0 \uc788\ub2e4.\n\n    @media(max-width: 565px) {\n        // left: 145%;\n    }\n\n    &:after {  // \uc138\ubaa8\ud654\uc0b4\ud45c\ub9cc\ub4e4\uae30\n        content: "";\n        height: 0;\n        width: 0;\n        position: absolute;\n        top: -2px;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        border: 12px solid transparent;\n        border-top-width: 0;\n        border-bottom-color: #463f3a;\n\n        @media(max-width: 565px) {\n            // left: 22%;\n        }\n    }\n\n    #dropUl {\n        list-style-type: none;\n        padding: 0;\n        margin: 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    #dropLi {\n        border: solid white 2px;\n        border-top: #463f3a;\n        border-left: #463f3a;\n        border-right: #463f3a;\n\n        :last-child {\n            border-bottom: #463f3a;\n        }\n\n        & > a {\n            font-size: 1.5rem;\n            border: #463f3a;\n        }\n    }\n\n    ul li {\n        font-size:2rem;\n        list-style: none;\n        line-height:44px;\n        color: #ffffff;\n    }\n\n    a {\n        text-decoration:none;\n        font-size:2rem;\n        color: #ffffff;\n        border-left: #bcb8b1 solid 2px;\n        border-right: #bcb8b1 solid 2px;\n        padding: 1px 7px;\n\n        &:hover {\n            color: #463f3a;\n            background-color: #bcb8b1;\n            border-left: #463f3a solid 2px;\n            border-right: #463f3a solid 2px;\n        }\n    }\n'])));const h=function(n){const{dropMain:e,dropItems:o}=n,[t,r,a]=(0,l.default)(!1),[d,h]=(0,i.useState)(!1),[m,b]=(0,i.useState)(""),[g,k]=(0,i.useState)(!1),j=async n=>{await f.default.post("/friends",{email:m}).then((n=>{k(!1),h(!1)})).catch((n=>{k(!0)}))};return(0,p.jsxs)(u,{children:[(0,p.jsx)("span",{onClick:a,ref:r,children:e}),t&&(0,p.jsx)(x,{children:(0,p.jsx)("ul",{id:"dropUl",children:o.map(((n,e)=>(0,p.jsx)("li",{id:"dropLi",children:1==e?(0,p.jsx)(s.rU,{style:{textDecoration:"none"},onClick:()=>h(!d),children:n.name}):(0,p.jsx)(s.rU,{to:n.link,style:{textDecoration:"none"},children:n.name})},e)))})}),d&&(0,p.jsxs)(c.default,{closeModal:()=>{h(!d),k(!1)},children:[(0,p.jsxs)("h2",{children:["-\xa0\uce5c\uad6c \uc694\uccad\xa0",(0,p.jsx)("i",{className:"fa fa-paper-plane-o","aria-hidden":"true"}),"\xa0-"]}),(0,p.jsxs)("div",{style:{marginBottom:"4px"},children:["\ucd08\ub300 id:\xa0\xa0",(0,p.jsx)("input",{type:"text",onChange:n=>{b(n.target.value)},onKeyDown:n=>(n=>{"Enter"===n.key&&j()})(n),placeholder:"\uce5c\uad6c\uc758 id\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",maxLength:"16",style:{width:"138px",textAlign:"center",paddingTop:"4px",paddingBottom:"4px",border:"1px solid #463f3a",borderRadius:"5px",backgroundColor:"#f4f3ee"}})]}),(0,p.jsx)("span",{style:g?{display:"",fontSize:"1.26rem",color:"#dd2b2b"}:{display:"none"},children:"!!! \uc774\ubbf8 \ucd08\ub300\ud588\uac70\ub098 \uc5c6\ub294 \uc0ac\uc6a9\uc790\uc785\ub2c8\ub2e4 !!!"}),(0,p.jsx)("div",{style:{lineHeight:"40%"},children:(0,p.jsx)("br",{})}),(0,p.jsx)("button",{style:{float:"right",fontSize:"1.5rem"},onClick:j,children:"\uc694\uccad \uc644\ub8cc"})]})]})}},6102:(n,e,o)=>{o.r(e),o.d(e,{default:()=>r});var t=o(47313);const r=function(n){const[e,o]=(0,t.useState)(n),r=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const n=n=>{null===r.current||r.current.contains(n.target)||o(!e)};return e&&window.addEventListener("click",n),()=>{window.removeEventListener("click",n)}}),[e]),[e,r,()=>{o(!e)}]}},70588:(n,e,o)=>{o.r(e),o.d(e,{default:()=>h});var t,r=o(30168),a=o(47313),i=o(70244),s=(o(80281),o(58467)),d=o(21630),l=o(5453),c=o(66018),f=o(60061),p=o(211),u=o(46417);const x=(0,i.ZP)(d.default)(t||(t=(0,r.Z)(['\n    .fa-arrow-left {\n        border: solid 2.3px;\n        border-radius: 6px;\n        padding: 1px 6.7px;\n\n        &:hover {\n            cursor:pointer;\n            background-color: #463f3a;\n            color: #bcb8b1;\n            border-color: #463f3a;\n        }\n    }\n\n    .fa-users {\n        font-size: 1.65rem;\n    }\n\n    h2 {\n        text-align: center;\n        font-size: 2rem;\n        color: #463f3a;\n\n        margin-top: 8px;\n        margin-bottom: 18.5px;\n    }\n\n    button {\n        background-color: #463f3a;\n        color: white;\n        border-radius: 5px;\n        font-family: "jua";\n        font-size: 1.8rem;\n\n        padding: 1px 6px 1px 6px;\n        border-top: 2px solid #767676;\n        border-left: 2px solid #767676;\n        border-bottom: 2px solid #212121;\n        border-right: 2px solid #212121;\n\n        &:hover {\n            cursor: pointer;\n            background-color: #463f3aa4;\n        }\n    }\n\n    .acceptButton {\n        background-color: #a1c4df;\n        color: #463f3a;\n        font-size: 1.7rem;\n\n        &:hover {\n            background-color: #a1c4dfa4;\n        }\n\n        @media(max-width: 381px) {\n            font-size: 1.35rem;\n        }\n    }\n\n    .refuseButton {\n        background-color: #dfafa1;\n        color: #463f3a;\n        font-size: 1.7rem;\n\n        &:hover {\n            background-color: #dfb1a1a4;\n        }\n\n        @media(max-width: 381px) {\n            font-size: 1.35rem;\n        }\n    }\n'])));const h=function(n){const e=(0,s.s0)(),[o,t]=(0,a.useState)([]);async function r(){await p.default.get("/friends?isFriend=0").then((n=>{t(n.data.data)})).catch((n=>{}))}return(0,a.useEffect)((()=>{(0,f.CheckToken)(),r()}),[]),(0,u.jsxs)(x,{children:[(0,u.jsxs)("h2",{children:[(0,u.jsx)("i",{className:"fa fa-arrow-left","aria-hidden":"true",onClick:()=>{e(-1)}}),"\xa0\xa0 \ubc1b\uc740 \uce5c\uad6c\uc694\uccad \ubaa9\ub85d \xa0\xa0",(0,u.jsx)(l.default,{dropMain:(0,u.jsx)("span",{children:(0,u.jsxs)("button",{children:[(0,u.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),"\xa0",(0,u.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]})}),dropItems:[{name:"> \uce5c\uad6c \ubaa9\ub85d",link:"/friends"},{name:"+ \uce5c\uad6c \uc694\uccad"}]})]}),(0,u.jsx)(c.default,{senders:o,getSenders:r})]})}},60061:(n,e,o)=>{function t(){const n=localStorage.getItem("accessToken"),e=localStorage.getItem("refreshToken");n&&e||(window.location.href="/login")}o.r(e),o.d(e,{CheckToken:()=>t})}}]);